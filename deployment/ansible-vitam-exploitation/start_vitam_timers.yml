---

- hosts: hosts-functional-administration
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
     ["vitam-create-accession-register-symbolic","inventory_hostname == groups['hosts-functional-administration'] | last",""]
     ,["vitam-rule-management-audit","inventory_hostname == groups['hosts-functional-administration'] | last",""]
     ,["vitam-functional-administration-reconstruction","","inventory_hostname == groups['hosts-functional-administration'] | last"]
     ,["vitam-functional-administration-accession-register-reconstruction","","inventory_hostname == groups['hosts-functional-administration'] | last"]
    ]

- hosts: hosts-metadata
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-metadata-reconstruction","","inventory_hostname == groups['hosts-metadata'] | last"]
      ,["vitam-metadata-store-graph","inventory_hostname == groups['hosts-metadata'] | last",""]
      ,["vitam-metadata-computed-inherited-rules","inventory_hostname == groups['hosts-metadata'] | last",""]
    ]


- hosts: hosts-storage-engine
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-storage-accesslog-backup","inventory_hostname in groups['hosts-storage-engine']",""]
      ,["vitam-storage-log-backup","inventory_hostname in groups['hosts-storage-engine']",""]
      ,["vitam-storage-log-traceability","inventory_hostname == groups['hosts-storage-engine'] | last",""]
    ]


- hosts: hosts-logbook
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-logbook-reconstruction","","groups['hosts-logbook'] | last == inventory_hostname"]
      ,["vitam-traceability-lfc-objectgroup","groups['hosts-logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-lfc-unit","groups['hosts-logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-operations","groups['hosts-logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-audit","groups['hosts-logbook'] | last == inventory_hostname",""]
    ]
