---

- hosts: hosts_functional_administration
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
     ["vitam-create-accession-register-symbolic","inventory_hostname == groups['hosts_functional_administration'] | last",""]
     ,["vitam-rule-management-audit","inventory_hostname == groups['hosts_functional_administration'] | last",""]
     ,["vitam-functional-administration-reconstruction","","inventory_hostname == groups['hosts_functional_administration'] | last"]
     ,["vitam-functional-administration-accession-register-reconstruction","","inventory_hostname == groups['hosts_functional_administration'] | last"]
    ]

- hosts: hosts_metadata
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-metadata-reconstruction","","inventory_hostname == groups['hosts_metadata'] | last"]
      ,["vitam-metadata-store-graph","inventory_hostname == groups['hosts_metadata'] | last",""]
      ,["vitam-metadata-computed-inherited-rules","inventory_hostname == groups['hosts_metadata'] | last",""]
      ,["vitam-metadata-purge-dip","inventory_hostname == groups['hosts_metadata'] | last",""]
    ]


- hosts: hosts_storage_engine
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-storage-accesslog-backup","inventory_hostname in groups['hosts_storage_engine']",""]
      ,["vitam-storage-log-backup","inventory_hostname in groups['hosts_storage_engine']",""]
      ,["vitam-storage-log-traceability","inventory_hostname == groups['hosts_storage_engine'] | last",""]
    ]


- hosts: hosts_logbook
  any_errors_fatal: true
  gather_facts: no
  roles:
    - start_vitam_timers
  vars:
    list_timers: [
      ["vitam-logbook-reconstruction","","groups['hosts_logbook'] | last == inventory_hostname"]
      ,["vitam-traceability-lfc-objectgroup","groups['hosts_logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-lfc-unit","groups['hosts_logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-operations","groups['hosts_logbook'] | last == inventory_hostname",""]
      ,["vitam-traceability-audit","groups['hosts_logbook'] | last == inventory_hostname",""]
    ]
