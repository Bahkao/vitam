---

- hosts: hosts-storage-offer-default
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.storageofferdefault }}"

- hosts: hosts-storage-engine
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.storageengine }}"

- hosts: hosts-metadata
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.metadata }}"

- hosts: hosts-logbook
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.logbook }}"

- hosts: hosts-workspace
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.workspace }}"

- hosts: hosts-functional-administration
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.functional_administration }}"

- hosts: hosts-security-internal
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.security_internal }}"

- hosts: hosts-processing
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.processing }}"

- hosts: hosts-batch-report
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.batchreport }}"

- hosts: hosts-worker
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.worker }}"

- hosts: hosts-access-internal
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.accessinternal }}"

- hosts: hosts-access-external
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.accessexternal }}"

- hosts: hosts-ingest-internal
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.ingestinternal }}"

- hosts: hosts-ingest-external
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.ingestexternal }}"

- hosts: hosts-ihm-demo
  any_errors_fatal: true
  roles:
    - thread_dump
  vars:
    vitam_struct: "{{ vitam.ihm_demo }}"
