<?xml version="1.0" encoding="UTF-8"?>
<configuration>
{% if vitam_struct.logback_rolling_policy|lower == "true" %}

	<appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>{{ vitam_folder_log }}/accesslog-{{ vitam_struct.vitam_component }}.%d{yyyy-MM-dd}.log</fileNamePattern>
			<maxHistory>{{ days_to_delete_access_local }}</maxHistory>
      		<totalSizeCap>14GB</totalSizeCap>
		</rollingPolicy>
{% else %}}

	<appender name="FILE" class="ch.qos.logback.core.FileAppender">
		<file>{{ vitam_folder_log }}/accesslog-{{ vitam_struct.vitam_component }}.log</file>
		<append>true</append>
{% endif %}}
		<encoder>
			<pattern>%h %l %u %t "%r" %s %b "%i{Referer}" "%i{User-agent}" %D %i{X-Request-Id} %i{X-Tenant-Id} %i{X-Application-Id}</pattern>
		</encoder>
	</appender>
	<appender-ref ref="FILE" />
</configuration>