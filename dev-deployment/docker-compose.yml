version: '2'
services:
  dev-rpm-base:
    image: docker.programmevitam.fr/vitam/dev-rpm-base:latest
    container_name: vitam-rpm-dev
    ports:
     - 8082:8082 # Legacy services
     - 8000-8010:8000-8010 # VITAM services
     - 8100-8110:8100-8110 # VITAM services
     - 8200-8210:8200-8210 # VITAM services
     - 8300-8310:8300-8310 # VITAM services
     - 9200-9201:9200-9201 # ElasticSearch HTTP
     - 9300-9301:9300-9301 # ElasticSearch TCP
     - 10514:10514 # ???
     - 27017:27017 # MongoDB
    volumes:
     - ${VITAM_GIT_REPO}:/code
     - ${HOME}/.m2:/root/.m2
    network_mode: bridge
    cap_add:
     - SYS_ADMIN
    security_opt:
     - seccomp=unconfined
