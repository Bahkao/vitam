{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "Preservation Contract description",
  "type": "object",
  "required": [
    "id",
    "destruction_delay",
    "destruction_certificate",
    "object",
    "unit",
    "preservation",
    "active"
  ],
  "properties": {
    "id": {
      "description": "Contract's Identifier",
      "type": "string"
    },
    "verbose": {
      "description": "Shall any usage of this contract be logged verbosely, from 0 to 5",
      "type": "integer"
    },
    "destruction_delay": {
      "description": "Delay applicable for destruction: in days, 0=auto, x>0=semi-auto, x=-1=manual, x=-2=no",
      "type": "integer"
    },
    "destruction_certificate": {
      "description": "Planification of Destruction certificate with its callback",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "frequency": {
            "description": "Frequency in format seconds|hours|days|months|years",
            "type": "string"
          },
          "callback": {
            "type": "string"
          }
        }
      }
    },
    "object": {
      "description": "Identifier of Consolidated Storage Offer for Objects with its audit frequency",
      "type": "object",
      "properties": {
        "storage_id": {
          "type": "string"
        },
        "audit_frequency": {
          "description": "Audit frequency in format seconds|hours|days|months|years and must be greater than ccfn",
          "type": "string"
        }
      }
    },
    "unit": {
      "description": "Identifier of Consolidated Storage Offer for Units with its audit frequency",
      "type": "object",
      "properties": {
        "storage_id": {
          "type": "string"
        },
        "audit_frequency": {
          "description": "Audit frequency in format seconds|hours|days|months|years and must be greater than ccfn",
          "type": "string"
        }
      }
    },
    "preservation": {
      "description": "Identifier of Consolidated Transformation Offer with its purge rule and its activation mode",
      "type": "object",
      "properties": {
        "transformation_id": {
          "type": "string"
        },
        "purge_rule": {
          "description": "One of 1-to-N, 1-N+1-N, 1-N, N",
          "type": "string",
          "enum": [
            "1-to-N", "1-N+1-N", "1-N", "N" 
          ]
        },
        "activation": {
          "description": "true = auto, false = manual or per access",
          "type": "boolean"
        }
      }
    },
    "active": {
      "description": "This contract activation status",
      "type": "boolean"
    }
  }
}