<div class="container-fluid">
  <div class="panel panel-default col-md-12">
    <a class="panel-header" data-toggle="collapse">
      <h2>Rechercher</h2>
    </a>
    <div id="boxEntriesSearchForm" class="panel-body panel-collapse collapse in">
      <div class="form-group">
        <label for="entryName">Lot d'archive</label>
        <input  ng-model="logctrl.searchOptions.obIdIn" type="text" name="entryName" class="form-control" />
      </div>
      <div class="row" style="padding-top: 20px">
        <div class="col-md-6">
          <button class="btn btn-primary center-block" ng-click="logctrl.clearSearchOptions()">
          <i class="material-icons pull-left">clear</i><span>Effacer</span>
          </button>
        </div>
        <div class="col-md-6">
          <button class="btn btn-primary center-block" ng-click="logctrl.getFileFormats()"><i class="material-icons pull-left">search</i><span>Rechercher</span></button>
        </div>
      </div>
    </div>
  </div>

  <!--  Pagination -->
  <div class="col-md-9" style="float: right">
    <button class="btn btn-default btn-s" ng-disabled="logctrl.currentPage <= 1" ng-click="logctrl.currentPage=logctrl.currentPage-1">
      Previous
    </button>
    <input ng-model="logctrl.currentPage" style="max-width: 40px">/{{logctrl.resultPages}}
    <button class="btn btn-default btn-s" ng-disabled="logctrl.currentPage >= logctrl.resultPages" ng-click="logctrl.currentPage=logctrl.currentPage+1">
      Next
    </button>
  </div>

<!-- <nav class="text-center">
    <ul class="pagination ">
        <li>
            <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li class="active"><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li>
            <a href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav> -->

<div class="panel panel-default col-md-12">
  <a class="panel-header">
    <h2>Journal des opérations</h2>
  </a>
  <div id="boxEntriesList" class="panel-body panel-collapse collapse in">
    <div class="table-responsive">
      <table class="table">
        <tr>
          <th>Lot d'archive</th>
          <th>Debut opération</th>
          <th>Fin opération</th>
          <th>Statut</th>
        </tr>

        <tbody ng-repeat="log in logctrl.fileFormatList | startFrom:(logctrl.currentPage-1)*logctrl.itemsPerPage | limitTo:logctrl.itemsPerPage">
          <tr ng-click="logctrl.openDialog($event, log.evIdProc)" >
            <th scope="row" >{{log.events[0].obIdIn}}</th>
            <td>{{log.evDateTime}}</td>
            <td>{{log.events[1].evDateTime}}</td>
            <td ng-if = "log.events[1].outcome == 'OK'">Succès</td>
            <td ng-if = "log.events[1].outcome == 'KO' || log.events[1].outcome == 'FATAL'">Erreur</td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>
</div>
