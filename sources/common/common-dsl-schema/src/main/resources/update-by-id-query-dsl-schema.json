{
  "root": "DSL",
  "definitions": {
    "DSL": {
      "object": {
        "$projection": {
          "type": "PROJECTION",
          "optional": true,
          "hint": "Projections to apply on results"
        },
        "$action": {
          "type": "ACTION",
          "optional": false,
          "hint": "Modification to apply on results"
        }
      }
    },
    "PROJECTION": {
      "object": {
        "$fields": {
          "type": {
            "anykey": { "enum": [ 1 ] }
          },
          "optional": true,
          "hint": "Fields to retrieve in the result"
        }
      }
    },
    "ACTION": {
      "object": {
        "$set": {
          "type": {
            "anykey": "any",
            "min": 1
          },
          "optional": true,
          "hint": "Fields to update in the result"
        },
        "$unset": {
          "type": {
            "array": "string",
            "min": 1
          },
          "optional": true,
          "hint": "Fields to remove in the result"
        }
      },
      "min": 1
    }
  }
}

