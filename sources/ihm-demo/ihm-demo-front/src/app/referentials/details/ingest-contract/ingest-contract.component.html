<p-panel [header]="'Détail du contrat d\'entrée'">
  <div class="ui-g">
    <div class="ui-g-8"></div>
    <div class="ui-g-2" *ngIf="!update"></div>
    <div class="ui-g-2" *ngIf="!update">
      <button pButton class="ui-button" (click)="switchUpdateMode()" label="Modifier"
              icon="fa-edit" iconPos="left"></button>
    </div>
    <div class="ui-g-2" *ngIf="update">
      <button pButton class="ui-button secondaryButton" (click)="switchUpdateMode()" label="Annuler"
              icon="fa-close" iconPos="left"></button>
    </div>
    <div class="ui-g-2" *ngIf="update">
      <button pButton class="ui-button" (click)="saveUpdate()" label="Sauvegarder"
              icon="fa-save" iconPos="left"></button>
    </div>

    <div class="ui-g-12 textAlignLeft" *ngIf="contract">
      <div class="ui-g-12">
        <vitam-metadata-field [title]="'Identifiant'" [originalTitle]="'Identifier'" [value]="modifiedContract.Identifier" [labelSize]="4"
                              class="ui-g-4" [updateMode]="false" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <vitam-metadata-field [title]="'Date de création'"  [originalTitle]="'CreationDate'" [value]="modifiedContract.CreationDate" [labelSize]="4"
                              class="ui-g-4" [updateMode]="false" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <vitam-metadata-field [title]="'Date de mise à jour'"  [originalTitle]="'LastUpdate'" [value]="modifiedContract.LastUpdate" [labelSize]="5"
                              class="ui-g-4 " [updateMode]="false" [(updatedFields)]="updatedFields"></vitam-metadata-field>
      </div>
      <div class="ui-g-12">
        <vitam-metadata-field [title]="'Nom'" [originalTitle]="'Name'"  [value]="modifiedContract.Name" [labelSize]="4"
                              class="ui-g-4 " [updateMode]="update" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <div class="ui-g-4">
          <div class="ui-g-nopad ui-g-4">
            <label class="label fieldLabel">Statut</label>
          </div>
          <div class="ui-g-nopad ui-g-8" *ngIf="!update">
            <span class="overflow-break-words" >{{isActif ? 'Actif' : 'Inactif'}}</span>
          </div>
          <div class="ui-g-nopad ui-g-8" *ngIf="update">
            <p-toggleButton onLabel="Actif" offLabel="Inactif" [(ngModel)]="isActif" (onChange)="changeStatus()"></p-toggleButton>
          </div>
        </div>
        <vitam-metadata-field [title]="'Tenant'" [value]="modifiedContract._tenant" [labelSize]="5"
                              class="ui-g-4 minHeight45 " [updateMode]="false" [(updatedFields)]="updatedFields"></vitam-metadata-field>
      </div>
      <div class="ui-g-12">
        <vitam-metadata-field [title]="'Description'"  [originalTitle]="'Description'"  [value]="modifiedContract.Description" [labelSize]="4"
                              class="ui-g-4 " [updateMode]="update" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <vitam-metadata-field [title]="'Date d\'activation'"  [originalTitle]="'ActivationDate'"  [value]="modifiedContract.ActivationDate" [labelSize]="4"
                              class="ui-g-4 " [updateMode]="update" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <vitam-metadata-field [title]="'Date de désactivation'"  [originalTitle]="'DeactivationDate'" [value]="modifiedContract.DeactivationDate" [labelSize]="5"
                              class="ui-g-4 " [updateMode]="update" [(updatedFields)]="updatedFields"></vitam-metadata-field>
      </div>
      <div class="ui-g-12">
        <vitam-metadata-field [title]="'Profils d\'archivage'"  [originalTitle]="'ArchiveProfiles'"  [value]="modifiedContract.ArchiveProfiles" [labelSize]="4"
                              class="ui-g-4 " [updateMode]="update" [(updatedFields)]="updatedFields"></vitam-metadata-field>

        <div class="ui-g-4">
          <div class="ui-g-nopad ui-g-4">
            <label class="label fieldLabel">Noeuds de rattachement</label>
          </div>
          <div class="ui-g-nopad ui-g-8" *ngIf="!update">
            <span class="overflow-break-words" >{{modifiedContract.LinkParentId}}</span>
          </div>
          <div class="ui-g-nopad ui-g-8" *ngIf="update">
            <input pInputText [(ngModel)]="modifiedContract.LinkParentId" (change)="valueChange()" />
          </div>
        </div>

      </div>
    </div>
  </div>
</p-panel>
